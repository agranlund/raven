/*
 * Test:USES_FPU
 */
#include "testconfig.h"
#define TEST_OP_F_F "flog10"
#define TEST_FUNC_F_F fpu_log10
#include "testdriver.h"



static test_f_f_data const flog10_data[] = {
	{ __LINE__, ZERO_P, INF_M, 0 },
	{ __LINE__, ZERO_M, INF_M, 0 },
	{ __LINE__, HEXCONSTE("-1.0", 0xbfff, 0x80000000L, 0x00000000L), QNAN_P, 0 },
	{ __LINE__, MIN_M, QNAN_P, FLAG_MINVAL },
	{ __LINE__, MAX_M, QNAN_P, 0 },
#if __LDBL_MIN_EXP__ <= (-16382)
	{ __LINE__, SUBNORM_P, HEXCONSTE("-4.95073930868983473674e+03", 0xc00b, 0x9ab5ea1aL, 0xaca3e911L), FLAG_SUBNORM|FLAG_INEXACT },
#else
	{ __LINE__, SUBNORM_P, HEXCONSTE("-4.95043827869417075549e+03", 0xc00b, 0x9ab38198L, 0x428ff9d1L), FLAG_SUBNORM|FLAG_INEXACT },
#endif
	{ __LINE__, SUBNORM_M, QNAN_P, 0 },
	{ __LINE__, INF_P, INF_P, 0 },
	{ __LINE__, INF_M, QNAN_P, 0 },
	{ __LINE__, QNAN_P, QNAN_P, 0 },
	{ __LINE__, QNAN_M, QNAN_P, 0 },
	{ __LINE__, SNAN_P, QNAN_P, 0 },
	{ __LINE__, SNAN_M, QNAN_P, 0 },

	{ __LINE__, HEXCONSTE("1.00000000000000000000e+00", 0x3fff, 0x80000000L, 0x00000000L), HEXCONSTE("0.00000000000000000000e+00", 0x0000, 0x00000000L, 0x00000000L), 0 },
	{ __LINE__, HEXCONSTE("1.00000001490116119385e-01", 0x3ffb, 0xcccccd00L, 0x00000000L), HEXCONSTE("-9.99999993528507967802e-01", 0xbffe, 0xffffffe4L, 0x3484ee53L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999940395355224609e-02", 0x3ffb, 0xcccccc00L, 0x00000000L), HEXCONSTE("-1.00000002588596909319e+00", 0xbfff, 0x80000037L, 0x96f64619L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000005551e-01", 0x3ffb, 0xccccccccL, 0xccccd000L), HEXCONSTE("-9.99999999999999975877e-01", 0xbffe, 0xffffffffL, 0xfffffe43L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999999999999916733e-02", 0x3ffb, 0xccccccccL, 0xccccc800L), HEXCONSTE("-1.00000000000000003621e+00", 0xbfff, 0x80000000L, 0x0000014eL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000001e-01", 0x3ffb, 0xccccccccL, 0xcccccccdL), HEXCONSTE("-1.00000000000000000000e+00", 0xbfff, 0x80000000L, 0x00000000L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999999999999999946e-02", 0x3ffb, 0xccccccccL, 0xccccccccL), HEXCONSTE("-1.00000000000000000000e+00", 0xbfff, 0x80000000L, 0x00000000L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000000e+01", 0x4002, 0xa0000000L, 0x00000000L), HEXCONSTE("1.00000000000000000000e+00", 0x3fff, 0x80000000L, 0x00000000L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000000e+02", 0x4005, 0xc8000000L, 0x00000000L), HEXCONSTE("2.00000000000000000000e+00", 0x4000, 0x80000000L, 0x00000000L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000000e+04", 0x400c, 0x9c400000L, 0x00000000L), HEXCONSTE("4.00000000000000000000e+00", 0x4001, 0x80000000L, 0x00000000L), 0 },
	{ __LINE__, HEXCONSTE("2.71828198432922363281e+00", 0x4000, 0xadf85500L, 0x00000000L), HEXCONSTE("4.34294506806319538208e-01", 0x3ffd, 0xde5bd97fL, 0x2195405bL), FLAG_INEXACT2 },
	{ __LINE__, HEXCONSTE("2.71828174591064453125e+00", 0x4000, 0xadf85400L, 0x00000000L), HEXCONSTE("4.34294468714657810383e-01", 0x3ffd, 0xde5bd837L, 0xed220e54L), FLAG_INEXACT2 },
	{ __LINE__, HEXCONSTE("2.71828182845904553488e+00", 0x4000, 0xadf85458L, 0xa2bb5000L), HEXCONSTE("4.34294481903251875513e-01", 0x3ffd, 0xde5bd8a9L, 0x3728787bL), FLAG_INEXACT2 },
	{ __LINE__, HEXCONSTE("2.71828182845904509080e+00", 0x4000, 0xadf85458L, 0xa2bb4800L), HEXCONSTE("4.34294481903251804552e-01", 0x3ffd, 0xde5bd8a9L, 0x37286e41L), FLAG_INEXACT2 },
	{ __LINE__, HEXCONSTE("2.71828182845904523543e+00", 0x4000, 0xadf85458L, 0xa2bb4a9bL), HEXCONSTE("4.34294481903251827673e-01", 0x3ffd, 0xde5bd8a9L, 0x37287196L), FLAG_INEXACT2 },
	{ __LINE__, HEXCONSTE("2.71828182845904523521e+00", 0x4000, 0xadf85458L, 0xa2bb4a9aL), HEXCONSTE("4.34294481903251827618e-01", 0x3ffd, 0xde5bd8a9L, 0x37287194L), FLAG_INEXACT2 },
	{ __LINE__, HEXCONSTE("7.50000000000000000000e-01", 0x3ffe, 0xc0000000L, 0x00000000L), HEXCONSTE("-1.24938736608299953132e-01", 0xbffb, 0xffdfe15dL, 0xe3c01bacL), FLAG_INEXACT2 },
	{ __LINE__, HEXCONSTE("1.00000011920928955078e+00", 0x3fff, 0x80000100L, 0x00000000L), HEXCONSTE("5.17719335576636270452e-08", 0x3fe6, 0xde5bd7caL, 0xdb50f0d9L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000011920928955078e+00", 0x3fff, 0x80000100L, 0x00000000L), HEXCONSTE("5.17719335576636270452e-08", 0x3fe6, 0xde5bd7caL, 0xdb50f0d9L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000000e+00", 0x3fff, 0x80000000L, 0x00000000L), HEXCONSTE("0.00000000000000000000e+00", 0x0000, 0x00000000L, 0x00000000L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000022204e+00", 0x3fff, 0x80000000L, 0x00000800L), HEXCONSTE("9.64327466553287003638e-17", 0x3fc9, 0xde5bd8a9L, 0x37286aa2L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000011920928955078e+00", 0x3fff, 0x80000100L, 0x00000000L), HEXCONSTE("5.17719335576636270452e-08", 0x3fe6, 0xde5bd7caL, 0xdb50f0d9L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000000e+00", 0x3fff, 0x80000000L, 0x00000000L), HEXCONSTE("0.00000000000000000000e+00", 0x0000, 0x00000000L, 0x00000000L), 0 },
	{ __LINE__, HEXCONSTE("1.00000000000000022204e+00", 0x3fff, 0x80000000L, 0x00000800L), HEXCONSTE("9.64327466553287003638e-17", 0x3fc9, 0xde5bd8a9L, 0x37286aa2L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000011e+00", 0x3fff, 0x80000000L, 0x00000001L), HEXCONSTE("4.70863020777972221996e-20", 0x3fbe, 0xde5bd8a9L, 0x37287194L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000011920928955078e+00", 0x3fff, 0x80000100L, 0x00000000L), HEXCONSTE("5.17719335576636270452e-08", 0x3fe6, 0xde5bd7caL, 0xdb50f0d9L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000000e+00", 0x3fff, 0x80000000L, 0x00000000L), HEXCONSTE("0.00000000000000000000e+00", 0x0000, 0x00000000L, 0x00000000L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000022204e+00", 0x3fff, 0x80000000L, 0x00000800L), HEXCONSTE("9.64327466553287003638e-17", 0x3fc9, 0xde5bd8a9L, 0x37286aa2L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000011e+00", 0x3fff, 0x80000000L, 0x00000001L), HEXCONSTE("4.70863020777972221996e-20", 0x3fbe, 0xde5bd8a9L, 0x37287194L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000011920928955078e+00", 0x3fff, 0x80000100L, 0x00000000L), HEXCONSTE("5.17719335576636270452e-08", 0x3fe6, 0xde5bd7caL, 0xdb50f0d9L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000000e+00", 0x3fff, 0x80000000L, 0x00000000L), HEXCONSTE("0.00000000000000000000e+00", 0x0000, 0x00000000L, 0x00000000L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000022204e+00", 0x3fff, 0x80000000L, 0x00000800L), HEXCONSTE("9.64327466553287003638e-17", 0x3fc9, 0xde5bd8a9L, 0x37286aa2L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000011e+00", 0x3fff, 0x80000000L, 0x00000001L), HEXCONSTE("4.70863020777972221996e-20", 0x3fbe, 0xde5bd8a9L, 0x37287194L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999940395355224609e-01", 0x3ffe, 0xffffff00L, 0x00000000L), HEXCONSTE("-2.58859690932176412836e-08", 0xbfe5, 0xde5bd918L, 0x6515104fL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000000e+00", 0x3fff, 0x80000000L, 0x00000000L), HEXCONSTE("0.00000000000000000000e+00", 0x0000, 0x00000000L, 0x00000000L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999940395355224609e-01", 0x3ffe, 0xffffff00L, 0x00000000L), HEXCONSTE("-2.58859690932176412836e-08", 0xbfe5, 0xde5bd918L, 0x6515104fL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999999999999888978e-01", 0x3ffe, 0xffffffffL, 0xfffff800L), HEXCONSTE("-4.82163733276643582136e-17", 0xbfc8, 0xde5bd8a9L, 0x3728750fL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000000e+00", 0x3fff, 0x80000000L, 0x00000000L), HEXCONSTE("0.00000000000000000000e+00", 0x0000, 0x00000000L, 0x00000000L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999940395355224609e-01", 0x3ffe, 0xffffff00L, 0x00000000L), HEXCONSTE("-2.58859690932176412836e-08", 0xbfe5, 0xde5bd918L, 0x6515104fL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999999999999888978e-01", 0x3ffe, 0xffffffffL, 0xfffff800L), HEXCONSTE("-4.82163733276643582136e-17", 0xbfc8, 0xde5bd8a9L, 0x3728750fL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999999999999999946e-01", 0x3ffe, 0xffffffffL, 0xffffffffL), HEXCONSTE("-2.35431510388986111027e-20", 0xbfbd, 0xde5bd8a9L, 0x37287196L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000000e+00", 0x3fff, 0x80000000L, 0x00000000L), HEXCONSTE("0.00000000000000000000e+00", 0x0000, 0x00000000L, 0x00000000L), 0 },
	{ __LINE__, HEXCONSTE("9.99999940395355224609e-01", 0x3ffe, 0xffffff00L, 0x00000000L), HEXCONSTE("-2.58859690932176412836e-08", 0xbfe5, 0xde5bd918L, 0x6515104fL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999999999999888978e-01", 0x3ffe, 0xffffffffL, 0xfffff800L), HEXCONSTE("-4.82163733276643582136e-17", 0xbfc8, 0xde5bd8a9L, 0x3728750fL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999999999999999946e-01", 0x3ffe, 0xffffffffL, 0xffffffffL), HEXCONSTE("-2.35431510388986111027e-20", 0xbfbd, 0xde5bd8a9L, 0x37287196L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00000000000000000000e+00", 0x3fff, 0x80000000L, 0x00000000L), HEXCONSTE("0.00000000000000000000e+00", 0x0000, 0x00000000L, 0x00000000L), 0 },
	{ __LINE__, HEXCONSTE("9.99999940395355224609e-01", 0x3ffe, 0xffffff00L, 0x00000000L), HEXCONSTE("-2.58859690932176412836e-08", 0xbfe5, 0xde5bd918L, 0x6515104fL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999999999999888978e-01", 0x3ffe, 0xffffffffL, 0xfffff800L), HEXCONSTE("-4.82163733276643582136e-17", 0xbfc8, 0xde5bd8a9L, 0x3728750fL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("9.99999999999999999946e-01", 0x3ffe, 0xffffffffL, 0xffffffffL), HEXCONSTE("-2.35431510388986111027e-20", 0xbfbd, 0xde5bd8a9L, 0x37287196L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.17549435082228750797e-38", 0x3f81, 0x80000000L, 0x00000000L), HEXCONSTE("-3.79297794536616305963e+01", 0xc004, 0x97b8181aL, 0xe7e0b7baL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("2.22507385850720138309e-308", 0x3c01, 0x80000000L, 0x00000000L), HEXCONSTE("-3.07652655568588781515e+02", 0xc007, 0x99d38a37L, 0xb9520f9dL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("3.36210314311209350626e-4932", 0x0001, 0x80000000L, 0x00000000L), HEXCONSTE("-4.93147338896733994007e+03", 0xc00b, 0x9a1bc980L, 0x27a81919L), FLAG_INEXACT },
#if __LDBL_MIN_EXP__ <= (-16382)
	{ __LINE__, HEXCONSTE("1.68105157155604675313e-4932", 0x0000, 0x40000000L, 0x00000000L), HEXCONSTE("-4.93207544895866790258e+03", 0xc00b, 0x9a209a84L, 0xfbcff799L), FLAG_SUBNORM|FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("3.64519953188247460253e-4951", 0x0000, 0x00000000L, 0x00000001L), HEXCONSTE("-4.95073930868983473674e+03", 0xc00b, 0x9ab5ea1aL, 0xaca3e911L), FLAG_SUBNORM|FLAG_INEXACT },
#else
	{ __LINE__, HEXCONSTE("1.68105157155604675313e-4932", 0x0000, 0x40000000L, 0x00000000L), HEXCONSTE("-4.93177441896300392132e+03", 0xc00b, 0x9a1e3202L, 0x91bc0859L), FLAG_SUBNORM|FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("3.64519953188247460253e-4951", 0x0000, 0x00000000L, 0x00000001L), HEXCONSTE("-4.95043827869417075549e+03", 0xc00b, 0x9ab38198L, 0x428ff9d1L), FLAG_SUBNORM|FLAG_INEXACT },
#endif
	{ __LINE__, HEXCONSTE("2.00416836000897277800e-292", 0x3c36, 0x80000000L, 0x00000000L), HEXCONSTE("-2.91698065798397778159e+02", 0xc007, 0x91d95a38L, 0x57498c0cL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.40129846432481707092e-45", 0x3f6a, 0x80000000L, 0x00000000L), HEXCONSTE("-4.48534693539331980883e+01", 0xc004, 0xb369f3deL, 0xcd201638L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("4.94065645841246544177e-324", 0x3bcd, 0x80000000L, 0x00000000L), HEXCONSTE("-3.23306215343115803673e+02", 0xc007, 0xa1a73210L, 0x7a1b9f30L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("3.40282346638528859812e+38", 0x407e, 0xffffff00L, 0x00000000L), HEXCONSTE("3.85318394191036238949e+01", 0x4004, 0x9a209a83L, 0x3f184568L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.79769313486231570815e+308", 0x43fe, 0xffffffffL, 0xfffff800L), HEXCONSTE("3.08254715559916743856e+02", 0x4007, 0x9a209a84L, 0xfbcff797L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.18973149535723176502e+4932", 0x7ffe, 0xffffffffL, 0xffffffffL), HEXCONSTE("4.93207544895866790258e+03", 0x400b, 0x9a209a84L, 0xfbcff799L), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("6.04841411113739013672e-01", 0x3ffe, 0x9ad6e300L, 0x00000000L), HEXCONSTE("-2.18358482052973862519e-01", 0xbffc, 0xdf995dacL, 0xe30c0e71L), FLAG_INEXACT3 },
	{ __LINE__, HEXCONSTE("1.44292724132537841797e+00", 0x3fff, 0xb8b1d700L, 0x00000000L), HEXCONSTE("1.59244432626718630480e-01", 0x3ffc, 0xa310f8f8L, 0xcead051bL), FLAG_INEXACT3 },
	{ __LINE__, HEXCONSTE("6.63342714309692382812e-01", 0x3ffe, 0xa9d0d400L, 0x00000000L), HEXCONSTE("-1.78262036484639944633e-01", 0xbffc, 0xb68a52c3L, 0x47908de9L), FLAG_INEXACT3 },
	{ __LINE__, HEXCONSTE("1.14500081539154052734e+00", 0x3fff, 0x928f6300L, 0x00000000L), HEXCONSTE("5.88057959509465818891e-02", 0x3ffa, 0xf0de58a6L, 0xcb0472dcL), FLAG_INEXACT },
	{ __LINE__, HEXCONSTE("1.00852215290069580078e+00", 0x3fff, 0x81174100L, 0x00000000L), HEXCONSTE("3.68544223828828325762e-03", 0x3ff6, 0xf18775e2L, 0x7ea99658L), FLAG_INEXACT3 },
	{ __LINE__, HEXCONSTE("6.06310367584228515625e-01", 0x3ffe, 0x9b372800L, 0x00000000L), HEXCONSTE("-2.17305005497303086761e-01", 0xbffc, 0xde85340fL, 0x78d9710cL), FLAG_INEXACT3 },
	{ __LINE__, HEXCONSTE("6.06310307979583740234e-01", 0x3ffe, 0x9b372700L, 0x00000000L), HEXCONSTE("-2.17305048191558336401e-01", 0xbffc, 0xde8536ecL, 0xf42b732bL), FLAG_INEXACT3 },
	{ __LINE__, HEXCONSTE("6.06310361063795322245e-01", 0x3ffe, 0x9b3727e3L, 0xfeb53800L), HEXCONSTE("-2.17305010167828814390e-01", 0xbffc, 0xde85345fL, 0xb609ec59L), FLAG_INEXACT3 },
	{ __LINE__, HEXCONSTE("9.84156727790832519531e-01", 0x3ffe, 0xfbf1b200L, 0x00000000L), HEXCONSTE("-6.93573429767623192709e-03", 0xbff7, 0xe34527fdL, 0xbadb933aL), FLAG_INEXACT3 },
	{ __LINE__, HEXCONSTE("1.12458482646722559815e+29", 0x405f, 0xb5afbd00L, 0x00000000L), HEXCONSTE("2.90509922194668117612e+01", 0x4003, 0xe8686e9bL, 0xd7aeec00L), FLAG_INEXACT },
};


int main(int argc, char **argv)
{
	int status;
	
	status = 0;
	
	if (argc > 1)
		testonly = (int)strtol(argv[1], NULL, 0);
	
	set_precision(FPCR_PRECISION_EXTENDED);
	set_rounding(FPCR_ROUND_NEAR);
	
#ifdef TEST_OP_F_F
	status |= test_table_f_f_op(flog10_data, ARRAY_SIZE(flog10_data), __FILE__);
#endif
#ifdef TEST_FUNC_F_F
	status |= test_table_f_f_func(flog10_data, ARRAY_SIZE(flog10_data), __FILE__);
#endif
	
	return status ? EXIT_FAILURE : EXIT_SUCCESS;
}
